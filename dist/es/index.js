import{ref as e,provide as t,onBeforeUnmount as n,openBlock as i,createBlock as o,mergeProps as r,createVNode as a,renderSlot as l,withScopeId as s,onMounted as c,watch as d,toRaw as u,defineComponent as p,toRefs as v,inject as h,pushScopeId as m,popScopeId as g,onUnmounted as f}from"vue";function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t){if(e){if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k(e,t):void 0}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function C(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=w(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,r=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw r}}}}var D=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var i,o,r;if(Array.isArray(t)){if((i=t.length)!=n.length)return!1;for(o=i;0!=o--;)if(!e(t[o],n[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((i=(r=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(o=i;0!=o--;)if(!Object.prototype.hasOwnProperty.call(n,r[o]))return!1;for(o=i;0!=o--;){var a=r[o];if(!e(t[a],n[a]))return!1}return!0}return t!=t&&n!=n};class L{constructor({apiKey:e,channel:t,client:n,id:i="__googleMapsScriptId",libraries:o=[],language:r,region:a,version:l,mapIds:s,nonce:c,retries:d=3,url:u="https://maps.googleapis.com/maps/api/js"}){if(this.CALLBACK="__googleMapsCallback",this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.version=l,this.apiKey=e,this.channel=t,this.client=n,this.id=i||"__googleMapsScriptId",this.libraries=o,this.language=r,this.region=a,this.mapIds=s,this.nonce=c,this.retries=d,this.url=u,L.instance){if(!D(this.options,L.instance.options))throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(L.instance.options)}`);return L.instance}L.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url}}createUrl(){let e=this.url;return e+=`?callback=${this.CALLBACK}`,this.apiKey&&(e+=`&key=${this.apiKey}`),this.channel&&(e+=`&channel=${this.channel}`),this.client&&(e+=`&client=${this.client}`),this.libraries.length>0&&(e+=`&libraries=${this.libraries.join(",")}`),this.language&&(e+=`&language=${this.language}`),this.region&&(e+=`&region=${this.region}`),this.version&&(e+=`&v=${this.version}`),this.mapIds&&(e+=`&map_ids=${this.mapIds.join(",")}`),e}load(){return this.loadPromise()}loadPromise(){return new Promise(((e,t)=>{this.loadCallback((n=>{n?t(n):e()}))}))}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){if(document.getElementById(this.id))return void this.callback();const e=this.createUrl(),t=document.createElement("script");t.id=this.id,t.type="text/javascript",t.src=e,t.onerror=this.loadErrorCallback.bind(this),t.defer=!0,t.async=!0,this.nonce&&(t.nonce=this.nonce),document.head.appendChild(t)}deleteScript(){const e=document.getElementById(this.id);e&&e.remove()}resetIfRetryingFailed(){const e=this.retries+1;this.done&&!this.loading&&this.errors.length>=e&&(this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[])}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){const e=this.errors.length*Math.pow(2,this.errors.length);console.log(`Failed to load Google Maps script, retrying in ${e} ms.`),setTimeout((()=>{this.deleteScript(),this.setScript()}),e)}else this.onerrorEvent=e,this.callback()}setCallback(){window.__googleMapsCallback=this.callback.bind(this)}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach((e=>{e(this.onerrorEvent)})),this.callbacks=[]}execute(){window.google&&window.google.maps&&window.google.maps.version&&(console.warn("Aborted attempt to load Google Maps JS with @googlemaps/js-api-loader.This may result in undesirable behavior as script parameters may not match."),this.callback()),this.resetIfRetryingFailed(),this.done?this.callback():this.loading||(this.loading=!0,this.setCallback(),this.setScript())}}var x,I=["bounds_changed","center_changed","click","dblclick","drag","dragend","dragstart","heading_changed","idle","maptypeid_changed","mousemove","mouseout","mouseover","projection_changed","resize","rightclick","tilesloaded","tilt_changed","zoom_changed"],P=["animation_changed","click","dblclick","rightclick","dragstart","dragend","drag","mouseover","mousedown","mouseup","draggable_changed","clickable_changed","cursor_changed","flat_changed","rightclick","zindex_changed","icon_changed","position_changed","shape_changed","title_changed","visible_changed"],S=["click","dblclick","drag","dragend","dragstart","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"],O=S,$=S.concat(["bounds_changed"]),M=S.concat(["center_changed","radius_changed"]),A=["closeclick","content_changed","domready","position_changed","zindex_changed"],j={name:"google-map",emits:[].concat((x=I,function(e){if(Array.isArray(e))return k(e)}(x)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(x)||w(x)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),["mapReady"]),props:{apiKey:String,version:String,libraries:[String,Array],language:String,newMap:{type:Boolean,default:!1},backgroundColor:String,center:Object,clickableIcons:{type:Boolean,default:void 0},controlSize:Number,disableDefaultUi:{type:Boolean,default:void 0},disableDoubleClickZoom:{type:Boolean,default:void 0},draggable:{type:Boolean,default:void 0},draggableCursor:String,draggingCursor:String,fullscreenControl:{type:Boolean,default:void 0},fullscreenControlPosition:String,gestureHandling:String,heading:Number,keyboardShortcuts:{type:Boolean,default:void 0},mapTypeControl:{type:Boolean,default:void 0},mapTypeControlOptions:Object,mapTypeId:{type:[Number,String]},maxZoom:Number,minZoom:Number,noClear:{type:Boolean,default:void 0},panControl:{type:Boolean,default:void 0},panControlPosition:String,restriction:Object,rotateControl:{type:Boolean,default:void 0},rotateControlPosition:String,scaleControl:{type:Boolean,default:void 0},scaleControlStyle:Number,scrollwheel:{type:Boolean,default:void 0},streetView:Object,streetViewControl:{type:Boolean,default:void 0},streetViewControlPosition:String,styles:Array,tilt:Number,zoom:Number,zoomControl:{type:Boolean,default:void 0},zoomControlPosition:String},setup:function(i,o){var r=o.emit,a=e(null),l=e(!1),s=e(null),c=e(null);t("map",s),t("api",c),t("newMap",i.newMap);var d=function(){var e,t,n,o,r,a={backgroundColor:i.backgroundColor,center:i.center,clickableIcons:i.clickableIcons,controlSize:i.controlSize,disableDefaultUI:i.disableDefaultUi,disableDoubleClickZoom:i.disableDoubleClickZoom,draggable:i.draggable,draggableCursor:i.draggableCursor,draggingCursor:i.draggingCursor,fullscreenControl:i.fullscreenControl,fullscreenControlOptions:i.fullscreenControlPosition?{position:null===(e=c.value)||void 0===e?void 0:e.ControlPosition[i.fullscreenControlPosition]}:{},gestureHandling:i.gestureHandling,heading:i.heading,keyboardShortcuts:i.keyboardShortcuts,mapTypeControl:i.mapTypeControl,mapTypeControlOptions:i.mapTypeControlOptions,mapTypeId:i.mapTypeId,maxZoom:i.maxZoom,minZoom:i.minZoom,noClear:i.noClear,panControl:i.panControl,panControlOptions:i.panControlPosition?{position:null===(t=c.value)||void 0===t?void 0:t.ControlPosition[i.panControlPosition]}:{},restriction:i.restriction,rotateControl:i.rotateControl,rotateControlOptions:i.rotateControlPosition?{position:null===(n=c.value)||void 0===n?void 0:n.ControlPosition[i.rotateControlPosition]}:{},scaleControl:i.scaleControl,scaleControlOptions:i.scaleControlStyle?{style:i.scaleControlStyle}:{},scrollwheel:i.scrollwheel,streetView:i.streetView,streetViewControl:i.streetViewControl,streetViewControlOptions:i.streetViewControlPosition?{position:null===(o=c.value)||void 0===o?void 0:o.ControlPosition[i.streetViewControlPosition]}:{},styles:i.styles,tilt:i.tilt,zoom:i.zoom,zoomControl:i.zoomControl,zoomControlOptions:i.zoomControlPosition?{position:null===(r=window.$mapApi)||void 0===r?void 0:r.ControlPosition[i.zoomControlPosition]}:{}};return Object.keys(a).forEach((function(e){return void 0===a[e]&&delete a[e]})),a};n((function(){var e,t;s.value&&(i.newMap?null===(e=c.value)||void 0===e||e.event.clearInstanceListeners(s.value):null===(t=window.$mapApi)||void 0===t||t.event.clearInstanceListeners(window.$mapInstance))}));"undefined"!=typeof window&&new L({apiKey:i.apiKey,version:"3.41",libraries:["places"],language:i.language||"en"}).load().then((function(){if(window.$mapInstance&&window.$mapDom&&!i.newMap)document.querySelector("#google-map").appendChild(window.$mapDom),window.$mapInstance.setOptions(d()),s.value=window.$mapInstance,c.value=window.$mapApi,r("mapReady",{map:window.$mapInstance,api:window.$mapApi}),console.log("复用地图实例");else if(i.newMap){var e=(c.value=google.maps).Map;s.value=new e(a.value,d()),console.log("地图初始化成功"),I.forEach((function(e){var t;null===(t=s.value)||void 0===t||t.addListener(e,(function(){return r(e)}))})),l.value=!0,r("mapReady",{map:s.value,api:c.value})}else{var t=(window.$mapApi=google.maps).Map;window.$mapInstance=new t(document.querySelector("#google-map"),d());var n=document.querySelector("#google-map").childNodes[0];n.style.overflow="hidden",window.$mapDom=n,window.$markerArray={},console.log("地图初始化成功"),s.value=window.$mapInstance,c.value=window.$mapApi,I.forEach((function(e){var t;null===(t=window.$mapInstance)||void 0===t||t.addListener(e,(function(){return r(e)}))})),l.value=!0,r("mapReady",{map:window.$mapInstance,api:window.$mapApi})}}));return{mapRef:a,ready:l,map:s,api:c,resetMap:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];i.newMap||window.$mapInstance&&(Object.keys(window.$markerArray).forEach((function(e){var t,n=C(window.$markerArray[e]);try{for(n.s();!(t=n.n()).done;){var i=t.value;try{window.$mapApi.event.clearInstanceListeners(i),i.setMap(null)}catch(e){console.warn(e)}}}catch(e){n.e(e)}finally{n.f()}delete window.$markerArray[e]})),e&&Object.keys(window.$mapApi.ControlPosition).forEach((function(e){window.$mapInstance.controls[window.$mapApi.ControlPosition[e]].clear()})))}}}},T=s("data-v-38cd4fdc")((function(e,t,n,s,c,d){return i(),o("div",r({ref:"mapRef"},e.$attrs,{class:"map",id:n.newMap?"":"google-map"}),[a("div",null,[l(e.$slots,"default")])],16,["id"])}));function E(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}E("\n.map[data-v-38cd4fdc] {\n  position: relative;\n  width: 100%;\n}\n"),j.render=T,j.__scopeId="data-v-38cd4fdc";var N=function(t,i,o,r,a,l,s,p){var v=e(null),h=null,m=function(e){l.value&&s.value&&(v.value=h=new s.value[t](_(_({},u(o)),{},{map:l.value})),i.forEach((function(e){var t;null===(t=h)||void 0===t||t.addListener(e,(function(t){return r(e,t,h,a)}))})),p||(window.$markerArray[t]?window.$markerArray[t].push(h):window.$markerArray[t]=[h]))};return c((function(){m()})),d([l,s],(function(){m()})),n((function(){if(h){var e,n,i,o,r,l;if(!p)(null===(i=window)||void 0===i||null===(o=i.$markerArray[t])||void 0===o?void 0:o.length)>0&&(null===(r=window)||void 0===r||null===(l=r.$markerArray[t])||void 0===l||l.splice(a,1));null===(e=s.value)||void 0===e||e.event.clearInstanceListeners(h),null===(n=h)||void 0===n||n.setMap(null)}})),{component:v}},z=p({props:{options:{type:Object,required:!0},index:{type:Number,required:!0}},setup:function(t,n){var i=n.emit,o=v(t),r=o.options,a=o.index,l=h("newMap"),s=h("map",e(null)),c=h("api",e(null));return{marker:N("Marker",P,u(r.value),i,a,s,c,l)}},render:function(){return null}});
/*!
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *       http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function B(e,t){function n(){}n.prototype=t.prototype,e.superClass_=t.prototype,e.prototype=new n,e.prototype.constructor=e}var R={name:"slot-marker",props:{options:{default:function(){return{}},type:Object},index:{default:0,type:Number}},setup:function(i,o){var r=v(i),a=r.options,l=r.index,s=e(null),d=h("newMap"),u=h("map",e(null)),p=h("api",e(null)),m=e(null),g=e(null),f=null;t("$marker",{marker:m});var y=function(e){var t=d?u.value:window.$mapInstance,n=d?p.value:window.$mapApi;if(t&&n){o.slots.labelContent&&1===o.slots.labelContent.length&&o.slots.labelContent[0]&&(a.value=Object.assign({},a.value,{labelContent:g.value}));var i=Object.assign(Object.assign({},a.value),{map:t}),r=g.value;r.parentNode.removeChild(r);var s=function(e){function t(e,n,i){this.marker_=e,this.handCursorURL_=e.handCursorURL,this.labelDiv_=document.createElement("div"),this.labelDiv_.style.cssText="position: absolute; overflow: hidden;",this.eventDiv_=document.createElement("div"),this.eventDiv_.style.cssText=this.labelDiv_.style.cssText,this.eventDiv_.addEventListener("selectstart",(function(){return!1})),this.eventDiv_.addEventListener("dragstart",(function(){return!1})),this.crossDiv_=t.getSharedCross(n)}function n(n){(n=n||{}).labelContent=n.labelContent||"",n.labelAnchor=n.labelAnchor||new e.Point(0,0),n.labelClass=n.labelClass||"markerLabels",n.labelStyle=n.labelStyle||{},n.labelInBackground=n.labelInBackground||!1,void 0===n.labelVisible&&(n.labelVisible=!0),void 0===n.raiseOnDrag&&(n.raiseOnDrag=!0),void 0===n.clickable&&(n.clickable=!0),void 0===n.draggable&&(n.draggable=!1),void 0===n.optimized&&(n.optimized=!1),n.crossImage=n.crossImage||"http"+("https:"===document.location.protocol?"s":"")+"://maps.gstatic.com/intl/en_us/mapfiles/drag_cross_67_16.png",n.handCursor=n.handCursor||"http"+("https:"===document.location.protocol?"s":"")+"://maps.gstatic.com/intl/en_us/mapfiles/closedhand_8_8.cur",n.optimized=!1,this.label=new t(this,n.crossImage,n.handCursor),e.Marker.apply(this,arguments)}return B(t,e.OverlayView),t.getSharedCross=function(e){var n;return void 0===t.getSharedCross.crossDiv&&((n=document.createElement("img")).style.cssText="position: absolute; z-index: 1000002; display: none;",n.style.marginLeft="-8px",n.style.marginTop="-9px",n.src=e,t.getSharedCross.crossDiv=n),t.getSharedCross.crossDiv},t.prototype.onAdd=function(){var n,i,o,r,a,l,s,c=this,d=!1,u=!1,p="url("+this.handCursorURL_+")",v=function(e){e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()},h=function(){c.marker_.setAnimation(null)};this.getPanes().markerLayer.appendChild(this.labelDiv_),this.getPanes().overlayMouseTarget.appendChild(this.eventDiv_),void 0===t.getSharedCross.processed&&(this.getPanes().markerLayer.appendChild(this.crossDiv_),t.getSharedCross.processed=!0),this.listeners_=[e.event.addDomListener(this.eventDiv_,"mouseover",(function(t){(c.marker_.getDraggable()||c.marker_.getClickable())&&(this.style.cursor="pointer",e.event.trigger(c.marker_,"mouseover",t))})),e.event.addDomListener(this.eventDiv_,"mouseout",(function(t){!c.marker_.getDraggable()&&!c.marker_.getClickable()||u||(this.style.cursor=c.marker_.getCursor(),e.event.trigger(c.marker_,"mouseout",t))})),e.event.addDomListener(this.eventDiv_,"mousedown",(function(t){u=!1,c.marker_.getDraggable()&&(d=!0,this.style.cursor=p),(c.marker_.getDraggable()||c.marker_.getClickable())&&(e.event.trigger(c.marker_,"mousedown",t),v(t))})),e.event.addDomListener(document,"mouseup",(function(t){var i;if(d&&(d=!1,c.eventDiv_.style.cursor="pointer",e.event.trigger(c.marker_,"mouseup",t)),u){if(a){(i=c.getProjection().fromLatLngToDivPixel(c.marker_.getPosition())).y+=20,c.marker_.setPosition(c.getProjection().fromDivPixelToLatLng(i));try{c.marker_.setAnimation(e.Animation.BOUNCE),setTimeout(h,1406)}catch(e){}}c.crossDiv_.style.display="none",c.marker_.setZIndex(n),r=!0,u=!1,t.latLng=c.marker_.getPosition(),e.event.trigger(c.marker_,"dragend",t)}})),e.event.addListener(c.marker_.getMap(),"mousemove",(function(t){var r;d&&(u?(t.latLng=new e.LatLng(t.latLng.lat()-i,t.latLng.lng()-o),r=c.getProjection().fromLatLngToDivPixel(t.latLng),a&&(c.crossDiv_.style.left=r.x+"px",c.crossDiv_.style.top=r.y+"px",c.crossDiv_.style.display="",r.y-=20),c.marker_.setPosition(c.getProjection().fromDivPixelToLatLng(r)),a&&(c.eventDiv_.style.top=r.y+20+"px"),e.event.trigger(c.marker_,"drag",t)):(i=t.latLng.lat()-c.marker_.getPosition().lat(),o=t.latLng.lng()-c.marker_.getPosition().lng(),n=c.marker_.getZIndex(),l=c.marker_.getPosition(),s=c.marker_.getMap().getCenter(),a=c.marker_.get("raiseOnDrag"),u=!0,c.marker_.setZIndex(1e6),t.latLng=c.marker_.getPosition(),e.event.trigger(c.marker_,"dragstart",t)))})),e.event.addDomListener(document,"keydown",(function(t){u&&27===t.keyCode&&(a=!1,c.marker_.setPosition(l),c.marker_.getMap().setCenter(s),e.event.trigger(document,"mouseup",t))})),e.event.addDomListener(this.eventDiv_,"click",(function(t){(c.marker_.getDraggable()||c.marker_.getClickable())&&(r?r=!1:(e.event.trigger(c.marker_,"click",t),v(t)))})),e.event.addDomListener(this.eventDiv_,"dblclick",(function(t){(c.marker_.getDraggable()||c.marker_.getClickable())&&(e.event.trigger(c.marker_,"dblclick",t),v(t))})),e.event.addListener(this.marker_,"dragstart",(function(e){u||(a=this.get("raiseOnDrag"))})),e.event.addListener(this.marker_,"drag",(function(e){u||a&&(c.setPosition(20),c.labelDiv_.style.zIndex=1e6+(this.get("labelInBackground")?-1:1))})),e.event.addListener(this.marker_,"dragend",(function(e){u||a&&c.setPosition(0)})),e.event.addListener(this.marker_,"position_changed",(function(){c.setPosition()})),e.event.addListener(this.marker_,"zindex_changed",(function(){c.setZIndex()})),e.event.addListener(this.marker_,"visible_changed",(function(){c.setVisible()})),e.event.addListener(this.marker_,"labelvisible_changed",(function(){c.setVisible()})),e.event.addListener(this.marker_,"title_changed",(function(){c.setTitle()})),e.event.addListener(this.marker_,"labelcontent_changed",(function(){c.setContent()})),e.event.addListener(this.marker_,"labelanchor_changed",(function(){c.setAnchor()})),e.event.addListener(this.marker_,"labelclass_changed",(function(){c.setStyles()})),e.event.addListener(this.marker_,"labelstyle_changed",(function(){c.setStyles()}))]},t.prototype.onRemove=function(){var t;if(this.labelDiv_.parentNode&&(this.labelDiv_.parentNode.removeChild(this.labelDiv_),this.eventDiv_.parentNode.removeChild(this.eventDiv_)),this.listeners_)for(t=0;t<this.listeners_.length;t++)e.event.removeListener(this.listeners_[t])},t.prototype.draw=function(){this.setContent(),this.setTitle(),this.setStyles()},t.prototype.setContent=function(){var e=this.marker_.get("labelContent");if(void 0===e.nodeType)this.labelDiv_.innerHTML=e,this.eventDiv_.innerHTML=this.labelDiv_.innerHTML;else{for(;this.labelDiv_.lastChild;)this.labelDiv_.removeChild(this.labelDiv_.lastChild);for(;this.eventDiv_.lastChild;)this.eventDiv_.removeChild(this.eventDiv_.lastChild);this.labelDiv_.appendChild(e),e=e.cloneNode(!0),this.eventDiv_.appendChild(e)}},t.prototype.setTitle=function(){this.eventDiv_.title=this.marker_.getTitle()||""},t.prototype.setStyles=function(){var e,t;for(e in this.labelDiv_.className=this.marker_.get("labelClass"),this.eventDiv_.className=this.labelDiv_.className,this.labelDiv_.style.cssText="",this.eventDiv_.style.cssText="",t=this.marker_.get("labelStyle"))t.hasOwnProperty(e)&&(this.labelDiv_.style[e]=t[e],this.eventDiv_.style[e]=t[e]);this.setMandatoryStyles()},t.prototype.setMandatoryStyles=function(){this.labelDiv_.style.position="absolute",this.labelDiv_.style.overflow="hidden",void 0!==this.labelDiv_.style.opacity&&""!==this.labelDiv_.style.opacity&&(this.labelDiv_.style.MsFilter='"progid:DXImageTransform.Microsoft.Alpha(opacity='+100*this.labelDiv_.style.opacity+')"',this.labelDiv_.style.filter="alpha(opacity="+100*this.labelDiv_.style.opacity+")"),this.eventDiv_.style.position=this.labelDiv_.style.position,this.eventDiv_.style.overflow=this.labelDiv_.style.overflow,this.eventDiv_.style.opacity=.01,this.eventDiv_.style.MsFilter='"progid:DXImageTransform.Microsoft.Alpha(opacity=1)"',this.eventDiv_.style.filter="alpha(opacity=1)",this.setAnchor(),this.setPosition(),this.setVisible()},t.prototype.setAnchor=function(){var e=this.marker_.get("labelAnchor");this.labelDiv_.style.marginLeft=-e.x+"px",this.labelDiv_.style.marginTop=-e.y+"px",this.eventDiv_.style.marginLeft=-e.x+"px",this.eventDiv_.style.marginTop=-e.y+"px"},t.prototype.setPosition=function(e){var t=this.getProjection().fromLatLngToDivPixel(this.marker_.getPosition());void 0===e&&(e=0),this.labelDiv_.style.left=Math.round(t.x)+"px",this.labelDiv_.style.top=Math.round(t.y-e)+"px",this.eventDiv_.style.left=this.labelDiv_.style.left,this.eventDiv_.style.top=this.labelDiv_.style.top,this.setZIndex()},t.prototype.setZIndex=function(){var e=this.marker_.get("labelInBackground")?-1:1;void 0===this.marker_.getZIndex()?(this.labelDiv_.style.zIndex=parseInt(this.labelDiv_.style.top,10)+e,this.eventDiv_.style.zIndex=this.labelDiv_.style.zIndex):(this.labelDiv_.style.zIndex=this.marker_.getZIndex()+e,this.eventDiv_.style.zIndex=this.labelDiv_.style.zIndex)},t.prototype.setVisible=function(){this.marker_.get("labelVisible")?this.labelDiv_.style.display=this.marker_.getVisible()?"block":"none":this.labelDiv_.style.display="none",this.eventDiv_.style.display=this.labelDiv_.style.display},B(n,e.Marker),n.prototype.setMap=function(t){e.Marker.prototype.setMap.apply(this,arguments),this.label.setMap(t)},n}(n);m.value=f=new s(i),P.forEach((function(e){f&&f.addListener(e,(function(t){return o.emit(e,t,m.value,l.value)}))})),d||(window.$markerArray.MarkerWithLabel?window.$markerArray.MarkerWithLabel.push(f):window.$markerArray.MarkerWithLabel=[f])}},b=function(){if(f){var e,t,n,i,o,r,a;if(!d)(null===(n=window)||void 0===n||null===(i=n.$markerArray)||void 0===i||null===(o=i.MarkerWithLabel)||void 0===o?void 0:o.length)>0&&(null===(r=window)||void 0===r||null===(a=r.$markerArray)||void 0===a||a.MarkerWithLabel.splice(l,1));null===(e=p.value)||void 0===e||e.event.clearInstanceListeners(f),null===(t=f)||void 0===t||t.setMap(null)}};return c((function(){y()})),n((function(){b()})),{marker:m,markerRef:g,markerWithLabel:s,createMarker:y,removeMarker:b}}},V=s("data-v-4c9a0bb0");m("data-v-4c9a0bb0");var Z={ref:"markerRef"};g();var q=V((function(e,t,n,r,s,c){return i(),o("div",null,[a("div",Z,[l(e.$slots,"labelContent")],512),l(e.$slots,"default")])}));E("\n\n"),R.render=q,R.__scopeId="data-v-4c9a0bb0";var W={name:"InfoWindow",props:{options:{default:function(){return{}},type:Object},show:{default:!1,type:Boolean},index:{default:0,type:Number}},setup:function(t,n){var i=v(t),o=i.options,r=i.show,a=i.index,l=h("$marker"),s=h("newMap"),p=h("map",e(null)),m=h("api",e(null)),g=e(null),y=e(null),b=null,_=e(null);c((function(){w()})),f((function(){C(),y.value&&(m.value&&m.value.event.clearInstanceListeners(b),y.value.setMap(null))})),d((function(){return l.marker}),(function(e,t,n){w(),n((function(){C()}))})),d((function(){return r.value}),(function(e,t){e?k():C()}));var w=function(e){var t=s?p.value:window.$mapInstance,i=s?m.value:window.$mapApi;if(t&&i&&l.marker){C(),g.value=u(l.marker);var c=Object.assign(Object.assign({},o.value,{content:_.value,map:p.value}));y.value=b=new i.InfoWindow(c),A.forEach((function(e){b&&b.addListener(e,(function(t){return n.emit(e,t,y.value,a.value)}))})),r.value&&k()}},k=function(){var e;null!=y&&null!==(e=y.value)&&void 0!==e&&e.open&&y.value.open(p.value,u(l.marker.value))},C=function(){y.value&&y.value.close(),n.emit("close")};return{infoWindow:y,infoWindowRef:_,openInfoWindow:k,closeInfoWindow:C}}},K=s("data-v-29fbdda4");m("data-v-29fbdda4");var U={ref:"infoWindowRef"};g();var H=K((function(e,t,n,r,s,c){return i(),o("div",null,[a("div",U,[l(e.$slots,"default")],512)])}));E("\n\n"),W.render=H,W.__scopeId="data-v-29fbdda4";var F=p({props:{options:{type:Object,required:!0},index:{type:Number,required:!0}},setup:function(t,n){var i=n.emit,o=v(t),r=o.options,a=o.index,l=h("newMap"),s=h("map",e(null)),c=h("api",e(null)),d=u(r.value);return{polyline:N("Polyline",S,d,i,a,s,c,l)}},render:function(){return null}}),G=p({props:{options:{type:Object,required:!0},index:{type:Number,required:!0}},setup:function(t,n){var i=n.emit,o=v(t),r=o.options,a=o.index,l=h("newMap"),s=h("map",e(null)),c=h("api",e(null));return{polygon:N("Polygon",O,u(r.value),i,a,s,c,l)}},render:function(){return null}}),J=p({props:{options:{type:Object,required:!0},index:{type:Number,required:!0}},setup:function(t,n){var i=n.emit,o=v(t),r=o.options,a=o.index,l=h("newMap"),s=h("map",e(null)),c=h("api",e(null));return{rectangle:N("Rectangle",$,u(r.value),i,a,s,c,l)}},render:function(){return null}}),X=p({props:{options:{type:Object,required:!0},index:{type:Number,required:!0}},setup:function(t,n){var i=n.emit,o=v(t),r=o.options,a=o.index,l=h("newMap"),s=h("map",e(null)),c=h("api",e(null));return{circle:N("Circle",M,u(r.value),i,a,s,c,l)}},render:function(){return null}}),Q=p({props:{position:{type:String,required:!0},index:{type:Number,required:!0,default:0}},setup:function(t){var i=h("map",e(null)),o=h("api",e(null)),r=e(null),a=function(e){i.value&&o.value&&(t.index&&(r.value.index=t.index),r.value&&i.value.controls[o.value.ControlPosition[t.position]].push(r.value))};return c((function(){a()})),n((function(){!function(e){if(i.value&&o.value&&r.value){var n=0;i.value.controls[o.value.ControlPosition[t.position]]&&i.value.controls[o.value.ControlPosition[t.position]].forEach((function(e,t){e===r.value&&(n=t)})),i.value.controls[o.value.ControlPosition[t.position]].getAt(n)&&i.value.controls[o.value.ControlPosition[t.position]].removeAt(n)}}(t.index)})),d([i,function(){return t.position},function(){return t.index}],(function(e,t,n){a()})),{controlRef:r}}}),Y={ref:"controlRef"};Q.render=function(e,t,n,r,a,s){return i(),o("div",Y,[l(e.$slots,"default")],512)};export{X as Circle,Q as CustomControl,j as GoogleMap,W as InfoWindow,z as Marker,R as MarkerWithLabel,G as Polygon,F as Polyline,J as Rectangle};
